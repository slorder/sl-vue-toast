webpackJsonp([11],{RhBi:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={data:function(){return{userPhone:"",password:"",errorText:"请输入正确的手机号",passwordText:"请输入正确的密码",userShow:!1,passwordError:!1}},computed:{},components:{homeHeader:t("hxP8").a},methods:{checkName:function(e){return/^1[3|4|5|7|8][0-9]{9}$/.test(e)?this.userShow=!1:(this.userShow=!0,this.errorText="请输入正确的手机号"),!/^1[3|4|5|7|8][0-9]{9}$/.test(e)},isRegister:function(e){var s=this;/^1[3|4|5|7|8][0-9]{9}$/.test(e)&&s.ajax({url:"/member/register/check?username="+s.userPhone,success:function(e){1e3==e.status?(s.userShow=!0,s.errorText="用户未注册，请您先注册"):console.log("用户已经注册")}})},checkPassword:function(e){if(!this.userShow&&this.userPhone)return e.length>=6&&e.length<=20?(this.passwordError=!1,/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{5,19}$/.test(e)?this.passCheck=!1:(this.passCheck=!0,this.passwordText="密码必须是字母数字组合"),this.passwordError):(this.passwordError=!0,this.passwordText="请输入正确的密码",this.passwordError)},userLogin:function(){var e=this;!e.passwordError&&e.password&&e.ajax({url:"/member/login",method:"post",data:{username:e.userPhone,password:e.password,memberId:window.sessionStorage.getItem("tempMemberId")?window.sessionStorage.getItem("tempMemberId"):null},success:function(s){1e3==s.status?(window.localStorage.setItem("memberId",s.data.id),window.localStorage.setItem("username",s.data.phone),window.sessionStorage.removeItem("tempMemberId"),e.$route.query.goto?e.$router.push({name:e.$route.query.goto}):e.$router.push({name:"me"})):(e.passwordError=!0,e.passwordText=s.msg)}})}},mounted:function(){}},o={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"left",attrs:{id:"pwdLogin"}},[t("home-header",{attrs:{title:"帐号登录",back:!0}}),e._v(" "),t("main",{staticClass:"login-main"},[t("div",{staticClass:"login-input login-tel"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userPhone,expression:"userPhone"}],staticClass:"login-tel-input",attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:e.userPhone},on:{input:[function(s){s.target.composing||(e.userPhone=s.target.value)},function(s){e.checkName(e.userPhone)}],blur:function(s){e.isRegister(e.userPhone)}}})]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:this.userShow,expression:"this.userShow"}],staticClass:"warnShow"},[e._v(e._s(this.errorText))]),e._v(" "),t("div",{staticClass:"login-input tel-code"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"login-tel-input",attrs:{type:"password",placeholder:"请输入6-20位包含数字和字母密码"},domProps:{value:e.password},on:{input:[function(s){s.target.composing||(e.password=s.target.value)},function(s){e.checkPassword(e.password)}]}}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:this.passwordError,expression:"this.passwordError"}],staticClass:"codeWarn"},[e._v(e._s(this.passwordText))])]),e._v(" "),t("div",{staticClass:"login-btn",on:{click:function(s){e.userLogin()}}},[e._v("登录")]),e._v(" "),t("div",{staticClass:"login-forget"},[t("div",{on:{click:function(s){e.bindPathName("login")}}},[e._v("手机号验证码登录")]),e._v(" "),t("div",[t("span",{on:{click:function(s){e.$router.push({path:"/forgetPwd"})}}},[e._v("忘记密码？")]),t("span",{on:{click:function(s){e.bindPathName("register")}}},[e._v("注册")])])])])],1)},staticRenderFns:[]};var a=t("VU/8")(r,o,!1,function(e){t("YKb9")},"data-v-6d0d94a9",null);s.default=a.exports},YKb9:function(e,s){}});
//# sourceMappingURL=11.909cfcafe2942ab2baed.js.map