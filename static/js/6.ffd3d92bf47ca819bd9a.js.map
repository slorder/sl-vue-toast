{"version":3,"sources":["webpack:///src/page/address/addressList.vue","webpack:///./src/page/address/addressList.vue?568a","webpack:///./src/page/address/addressList.vue"],"names":["addressList","homeHeader","header","inIt","this","memberId","data","list","goto","receiverName","receiverMobile","receiverAddress","id","status","typeSel","receiverProvince","receiverCity","receiverDistrict","val","res","length","res2","address_addressList","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","back","_v","on","click","$event","$router","push","path","_e","_l","item","index","_m","editAddress","deletAddress","selectAddress","_s","addNewAddress","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"../static/js/6.ffd3d92bf47ca819bd9a.js","sourcesContent":["<template>\r\n  <!--管理收货地址-->\r\n  <div id=\"manager\" class=\"left\">\r\n    <home-header :title=\"'管理收货地址'\" :back=\"true\"></home-header>\r\n    <div class=\"content\" v-if=\"inShow\">\r\n      <div class=\"img\"></div>\r\n      <p>您还没有收货地址，快去添加吧！</p>\r\n      <div class=\"newAddress\" @click=\"$router.push({path:'/addressInfo'})\">添加收货地址</div>\r\n    </div>\r\n    <div class=\"addList\" v-if=\"listShow\">\r\n      <ul class=\"addressList\">\r\n        <li v-for=\"(item,index) in list\">\r\n          <div class=\"setStatus\">\r\n            <div class=\"setInit\">\r\n              <label class=\"disBox\">\r\n                <!--<i class=\"selectBtn\" @click=pickUp\"(index)\" :class=\"{pick:active==index}\"></i>\r\n                <span>设为默认</span>-->\r\n              </label>\r\n            </div>\r\n            <div class=\"edit\">\r\n              <span @click=\"editAddress(index)\"><i class=\"iconfont icon-bianji1\"></i>编辑</span>\r\n              <span @click=\"deletAddress(index)\"><i class=\"iconfont icon-shanchu\"></i>删除</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"userInfo\" @click=\"selectAddress(index)\">\r\n            <p>\r\n              <label>{{item.receiverName}}</label>\r\n              <span>{{item.receiverMobile}}</span>\r\n            </p>\r\n            <p class=\"detailTxt\">\r\n              {{item.receiverProvince}}省{{item.receiverCity}}市{{item.receiverDistrict}}{{item.receiverAddress}}</p>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <div class=\"addNew\" @click=\"addNewAddress(list.length)\"><a>新增收货地址</a></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import homeHeader from '../../components/header/header.vue'\r\n  import submitBtn from '../../components/button/submitBtn.vue'\r\n  import {Toast} from 'mint-ui'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        inShow: false,\r\n        listShow: true,\r\n        newAdd: true,\r\n        active: null,\r\n        addressInfo: {},\r\n        list: [\r\n          {\r\n            receiverName: null,\r\n            receiverMobile: null,\r\n            receiverProvince: null,\r\n            receiverCity: null,\r\n            receiverDistrict: null,\r\n            receiverAddress: null,\r\n            id: ''\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    computed: {},\r\n    components: {\r\n      homeHeader\r\n    },\r\n    created() {\r\n      //初始化获取收获地址列表\r\n      this.inIt();\r\n    },\r\n    methods: {\r\n      inIt() {\r\n        //初始状态清除localStorage，避免点击添加收获地址时，添加地址页面会受到编辑地址时的影响保留之前的编辑时的记录\r\n        let that = this;\r\n        var memberId = window.localStorage.getItem(\"memberId\");\r\n        window.localStorage.removeItem('name');\r\n        window.localStorage.removeItem('phone');\r\n        window.localStorage.removeItem('province');\r\n        window.localStorage.removeItem('city');\r\n        window.localStorage.removeItem('district');\r\n        window.localStorage.removeItem('detialDress');\r\n        window.localStorage.removeItem('shippingId');\r\n        console.log(memberId)\r\n        that.ajax({\r\n          url: '/shipping/getList?memberId=' + memberId,\r\n          success: function (res) {\r\n            console.log(res + \"获取收获地址列表\")\r\n            var list = res.data;\r\n            that.list = list;\r\n          }\r\n        })\r\n      },\r\n      //设置默认收货地址；\r\n      /*pickUp(val){\r\n        this.active=val;\r\n        console.log(this.list[val].receiverName)\r\n        console.log(this.list[val].receiverMobile)\r\n        console.log(this.list[val].receiverProvince+'省'+this.list[val].receiverCity+this.list[val].receiverDistrict+this.list[val].receiverAddress)\r\n      },*/\r\n      //选择订单确认页的收获地址\r\n      selectAddress(val) {\r\n        let that = this;\r\n        let goto = that.$route.query.goto;\r\n        if (goto == 1) {\r\n          that.addressInfo = {\r\n            address: {\r\n              name: that.list[val].receiverName,\r\n              phone: that.list[val].receiverMobile,\r\n              content: that.list[val].receiverProvince + '省' + that.list[val].receiverCity + '市' + that.list[val].receiverDistrict + that.list[val].receiverAddress\r\n            }\r\n          };\r\n          that.ajax({\r\n            url: '/shipping/checked',\r\n            method: 'post',\r\n            data: {\r\n              shippingId: that.list[val].id\r\n            },\r\n            success: function (res) {\r\n              var status = res.status;\r\n              if (status == 1000) {\r\n                console.log('更改默认地址成功')\r\n                var proId = window.localStorage.getItem(\"proId\");\r\n                var count = window.localStorage.getItem(\"count\");\r\n                var typeSel = window.localStorage.getItem(\"typeSel\")\r\n                that.$router.push({path: '/createOrder', query: {proId: proId, count: count, typeSel: typeSel}})\r\n              }\r\n            }\r\n          })\r\n        } else if (goto == 2) {\r\n          that.addressInfo = {\r\n            address: {\r\n              name: that.list[val].receiverName,\r\n              phone: that.list[val].receiverMobile,\r\n              content: that.list[val].receiverProvince + '省' + that.list[val].receiverCity + '市' + that.list[val].receiverDistrict + that.list[val].receiverAddress\r\n            }\r\n          };\r\n          that.ajax({\r\n            url: '/shipping/checked',\r\n            method: 'post',\r\n            data: {\r\n              shippingId: that.list[val].id\r\n            },\r\n            success: function (res) {\r\n              var status = res.status;\r\n              if (status == 1000) {\r\n                console.log('更改默认地址成功')\r\n                that.$router.push({path: '/orderCart'})\r\n              }\r\n            }\r\n          })\r\n        } else {\r\n          console.log(\"点击无效\")\r\n        }\r\n      },\r\n      //编辑收货地址\r\n      editAddress(val) {\r\n        window.localStorage.setItem('name', this.list[val].receiverName)\r\n        window.localStorage.setItem('phone', this.list[val].receiverMobile)\r\n        window.localStorage.setItem('province', this.list[val].receiverProvince)\r\n        window.localStorage.setItem('city', this.list[val].receiverCity)\r\n        window.localStorage.setItem('district', this.list[val].receiverDistrict)\r\n        window.localStorage.setItem('detailDress', this.list[val].receiverAddress);\r\n        window.localStorage.setItem('index', val);\r\n        window.localStorage.setItem('shippingId', this.list[val].id)\r\n        this.$router.push({path: './addressInfo', query: {title: '修改收获地址'}})\r\n      },\r\n      //删除收获地址\r\n      deletAddress(val) {\r\n        let that = this;\r\n        that.ajax({\r\n          url: '/shipping/delete',\r\n          method: 'POST',\r\n          data: {\r\n            shippingId: that.list[val].id\r\n          },\r\n          success: function (res) {\r\n            console.log(res)\r\n            var status = res.status;\r\n            if (status == 1000) {\r\n              console.log(12)\r\n              if (val == 0) {\r\n                that.list = that.list.slice(1, that.list.length)\r\n              } else {\r\n                var res = that.list.slice(0, val);\r\n                var res2 = that.list.slice(val + 1, that.list.length)\r\n                that.list = res.concat(res2);\r\n              }\r\n            }\r\n          }\r\n        })\r\n      },\r\n      //新增收货地址\r\n      addNewAddress(val) {\r\n        console.log(val)\r\n        if (val <= 2) {\r\n          this.$router.push({path: '/addressInfo', query: {title: '添加收获地址'}});\r\n        } else {\r\n          Toast(\"一个用户最多添加3个收货地址\")\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"../../style/minxin\";\r\n\r\n  .content {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    padding-top: 2.14rem;\r\n    background: #ccc;\r\n    .img {\r\n      width: 8rem;\r\n      height: 4rem;\r\n      background: #9f9;\r\n      margin: 5rem auto 3rem;\r\n    }\r\n    p {\r\n      text-align: center;\r\n      margin-bottom: 5rem;\r\n    }\r\n    .newAddress {\r\n      width: 40%;\r\n      border-radius: 0.3rem;\r\n      margin: 0 auto;\r\n      background: red;\r\n      color: #fff;\r\n      text-align: center;\r\n      font: 0.6rem/2.4rem \"Microsoft YaHei\";\r\n    }\r\n  }\r\n\r\n  .addList {\r\n    width: 100%;\r\n    height: 100vh;\r\n  }\r\n\r\n  .addressList {\r\n    width: 100%;\r\n    height: auto;\r\n    padding-top: 2.14rem;\r\n    margin-bottom: 6.4rem;\r\n    li {\r\n      background: #fff;\r\n      margin-top: 0.8rem;\r\n      .setStatus {\r\n        border-bottom: 1px solid #F6F6F9;\r\n        font-size: 1.2rem;\r\n        padding: 1.2rem;\r\n        overflow: hidden;\r\n        display: flex;\r\n        display: -webkit-flex;\r\n        justify-content: space-between;\r\n        .setInit {\r\n          .disBox {\r\n            height: 1.6rem;\r\n            line-height: 1.6rem;\r\n            font-size: 1.2rem;\r\n            display: flex;\r\n            display: -webkit-flex;\r\n            .selectBtn {\r\n              display: block;\r\n              width: 1.6rem;\r\n              height: 1.6rem;\r\n              border: 1px solid #ddd;\r\n              border-radius: 100%;\r\n            }\r\n            .pick {\r\n              display: block;\r\n              width: 1.6rem;\r\n              height: 1.6rem;\r\n              border: 1px solid #1cbb7f;\r\n              border-radius: 100%;\r\n              background: #1cbb7f url(../../assets/img/iconfont-gou.png) center center no-repeat;\r\n              background-size: 80% 80%;\r\n            }\r\n            span {\r\n              font-size: 1.2rem;\r\n              color: #777;\r\n              margin-left: .6rem;\r\n              line-height: 1.8rem;\r\n            }\r\n          }\r\n        }\r\n        .edit {\r\n          span {\r\n            color: #777;\r\n            line-height: 1.6rem;\r\n            i {\r\n              font-size: 1.2rem;\r\n              margin-right: .3rem;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .userInfo {\r\n        padding: 1.2rem 1.6rem;\r\n        p {\r\n          color: #777;\r\n          font-size: 1.2rem;\r\n          label {\r\n          }\r\n          span {\r\n            color: #1cbb7f !important;\r\n          }\r\n        }\r\n        p.detailTxt {\r\n          margin-top: 0.4rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .addNew {\r\n    width: 100%;\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    z-index: 2;\r\n    box-sizing: border-box;\r\n    background: #fafafc;\r\n    padding: 0.8rem 4%;\r\n    text-align: center;\r\n    color: #fff;\r\n    border-top: 1px solid #efefef;\r\n    a {\r\n      display: block;\r\n      padding: 0.5rem;\r\n      border-radius: 4px;\r\n      background: $red;\r\n      font-size: 1.2rem;\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/address/addressList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"left\",attrs:{\"id\":\"manager\"}},[_c('home-header',{attrs:{\"title\":'管理收货地址',\"back\":true}}),_vm._v(\" \"),(_vm.inShow)?_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"img\"}),_vm._v(\" \"),_c('p',[_vm._v(\"您还没有收货地址，快去添加吧！\")]),_vm._v(\" \"),_c('div',{staticClass:\"newAddress\",on:{\"click\":function($event){_vm.$router.push({path:'/addressInfo'})}}},[_vm._v(\"添加收货地址\")])]):_vm._e(),_vm._v(\" \"),(_vm.listShow)?_c('div',{staticClass:\"addList\"},[_c('ul',{staticClass:\"addressList\"},_vm._l((_vm.list),function(item,index){return _c('li',[_c('div',{staticClass:\"setStatus\"},[_vm._m(0,true),_vm._v(\" \"),_c('div',{staticClass:\"edit\"},[_c('span',{on:{\"click\":function($event){_vm.editAddress(index)}}},[_c('i',{staticClass:\"iconfont icon-bianji1\"}),_vm._v(\"编辑\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.deletAddress(index)}}},[_c('i',{staticClass:\"iconfont icon-shanchu\"}),_vm._v(\"删除\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"userInfo\",on:{\"click\":function($event){_vm.selectAddress(index)}}},[_c('p',[_c('label',[_vm._v(_vm._s(item.receiverName))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.receiverMobile))])]),_vm._v(\" \"),_c('p',{staticClass:\"detailTxt\"},[_vm._v(\"\\n            \"+_vm._s(item.receiverProvince)+\"省\"+_vm._s(item.receiverCity)+\"市\"+_vm._s(item.receiverDistrict)+_vm._s(item.receiverAddress))])])])})),_vm._v(\" \"),_c('div',{staticClass:\"addNew\",on:{\"click\":function($event){_vm.addNewAddress(_vm.list.length)}}},[_c('a',[_vm._v(\"新增收货地址\")])])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setInit\"},[_c('label',{staticClass:\"disBox\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b5a5928\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/address/addressList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b5a5928\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addressList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addressList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addressList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b5a5928\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addressList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b5a5928\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/address/addressList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}