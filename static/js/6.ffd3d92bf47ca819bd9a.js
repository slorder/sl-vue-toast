webpackJsonp([6],{UKFN:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("hxP8"),r=(i("kxUj"),i("Au9i")),o={data:function(){return{inShow:!1,listShow:!0,newAdd:!0,active:null,addressInfo:{},list:[{receiverName:null,receiverMobile:null,receiverProvince:null,receiverCity:null,receiverDistrict:null,receiverAddress:null,id:""}]}},computed:{},components:{homeHeader:s.a},created:function(){this.inIt()},methods:{inIt:function(){var e=this,t=window.localStorage.getItem("memberId");window.localStorage.removeItem("name"),window.localStorage.removeItem("phone"),window.localStorage.removeItem("province"),window.localStorage.removeItem("city"),window.localStorage.removeItem("district"),window.localStorage.removeItem("detialDress"),window.localStorage.removeItem("shippingId"),console.log(t),e.ajax({url:"/shipping/getList?memberId="+t,success:function(t){console.log(t+"获取收获地址列表");var i=t.data;e.list=i}})},selectAddress:function(e){var t=this,i=t.$route.query.goto;1==i?(t.addressInfo={address:{name:t.list[e].receiverName,phone:t.list[e].receiverMobile,content:t.list[e].receiverProvince+"省"+t.list[e].receiverCity+"市"+t.list[e].receiverDistrict+t.list[e].receiverAddress}},t.ajax({url:"/shipping/checked",method:"post",data:{shippingId:t.list[e].id},success:function(e){if(1e3==e.status){console.log("更改默认地址成功");var i=window.localStorage.getItem("proId"),s=window.localStorage.getItem("count"),r=window.localStorage.getItem("typeSel");t.$router.push({path:"/createOrder",query:{proId:i,count:s,typeSel:r}})}}})):2==i?(t.addressInfo={address:{name:t.list[e].receiverName,phone:t.list[e].receiverMobile,content:t.list[e].receiverProvince+"省"+t.list[e].receiverCity+"市"+t.list[e].receiverDistrict+t.list[e].receiverAddress}},t.ajax({url:"/shipping/checked",method:"post",data:{shippingId:t.list[e].id},success:function(e){1e3==e.status&&(console.log("更改默认地址成功"),t.$router.push({path:"/orderCart"}))}})):console.log("点击无效")},editAddress:function(e){window.localStorage.setItem("name",this.list[e].receiverName),window.localStorage.setItem("phone",this.list[e].receiverMobile),window.localStorage.setItem("province",this.list[e].receiverProvince),window.localStorage.setItem("city",this.list[e].receiverCity),window.localStorage.setItem("district",this.list[e].receiverDistrict),window.localStorage.setItem("detailDress",this.list[e].receiverAddress),window.localStorage.setItem("index",e),window.localStorage.setItem("shippingId",this.list[e].id),this.$router.push({path:"./addressInfo",query:{title:"修改收获地址"}})},deletAddress:function(e){var t=this;t.ajax({url:"/shipping/delete",method:"POST",data:{shippingId:t.list[e].id},success:function(i){if(console.log(i),1e3==i.status)if(console.log(12),0==e)t.list=t.list.slice(1,t.list.length);else{i=t.list.slice(0,e);var s=t.list.slice(e+1,t.list.length);t.list=i.concat(s)}}})},addNewAddress:function(e){console.log(e),e<=2?this.$router.push({path:"/addressInfo",query:{title:"添加收获地址"}}):Object(r.Toast)("一个用户最多添加3个收货地址")}},mounted:function(){}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"left",attrs:{id:"manager"}},[i("home-header",{attrs:{title:"管理收货地址",back:!0}}),e._v(" "),e.inShow?i("div",{staticClass:"content"},[i("div",{staticClass:"img"}),e._v(" "),i("p",[e._v("您还没有收货地址，快去添加吧！")]),e._v(" "),i("div",{staticClass:"newAddress",on:{click:function(t){e.$router.push({path:"/addressInfo"})}}},[e._v("添加收货地址")])]):e._e(),e._v(" "),e.listShow?i("div",{staticClass:"addList"},[i("ul",{staticClass:"addressList"},e._l(e.list,function(t,s){return i("li",[i("div",{staticClass:"setStatus"},[e._m(0,!0),e._v(" "),i("div",{staticClass:"edit"},[i("span",{on:{click:function(t){e.editAddress(s)}}},[i("i",{staticClass:"iconfont icon-bianji1"}),e._v("编辑")]),e._v(" "),i("span",{on:{click:function(t){e.deletAddress(s)}}},[i("i",{staticClass:"iconfont icon-shanchu"}),e._v("删除")])])]),e._v(" "),i("div",{staticClass:"userInfo",on:{click:function(t){e.selectAddress(s)}}},[i("p",[i("label",[e._v(e._s(t.receiverName))]),e._v(" "),i("span",[e._v(e._s(t.receiverMobile))])]),e._v(" "),i("p",{staticClass:"detailTxt"},[e._v("\n            "+e._s(t.receiverProvince)+"省"+e._s(t.receiverCity)+"市"+e._s(t.receiverDistrict)+e._s(t.receiverAddress))])])])})),e._v(" "),i("div",{staticClass:"addNew",on:{click:function(t){e.addNewAddress(e.list.length)}}},[i("a",[e._v("新增收货地址")])])]):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"setInit"},[t("label",{staticClass:"disBox"})])}]};var c=i("VU/8")(o,l,!1,function(e){i("fImc")},"data-v-7b5a5928",null);t.default=c.exports},fImc:function(e,t){}});
//# sourceMappingURL=6.ffd3d92bf47ca819bd9a.js.map