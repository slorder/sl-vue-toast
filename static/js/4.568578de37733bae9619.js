webpackJsonp([4],{"4G08":function(t,i){},zBdK:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("hxP8"),o=s("Au9i"),n={data:function(){return{popupVisible:!1,selected:"1",info:null,shopCount:0,typeSel:null,proId:null,orderInfo:{count:1},selList:["color","size"],tagList:[{name:"正品保证",iconfont:"icon-zhengpinbaozhang"},{name:"货到付款",iconfont:"icon-weibiaoti-"},{name:"7天退换",iconfont:"icon-7tiantuihuan"},{name:"极速达",iconfont:"icon-shandianfahuo"}],active:[0,0,0,0],iconfontActive:!1}},computed:{},components:{homeHeader:e.a},methods:{colorList:function(t){return t.split("|")},addShop:function(){var t=this;t.typeJson(),t.localProId(),t.ajax({url:"/cart/add",method:"post",data:{productId:t.proId,count:t.orderInfo.count,productText:t.typeSel},success:function(i){i.data.cartProductDtoList[0].userId&&window.sessionStorage.setItem("tempMemberId",i.data.cartProductDtoList[0].userId),t.getShopCount(),t.popupVisible=!1,Object(o.Toast)("添加购物车成功")}})},typeJson:function(){for(var t="[",i=0,s=this.selList.length;i<s;i++){var e=this.info[this.selList[i]].split("|");t+='{"'+this.selList[i]+'":',t+='"'+e[this.active[i]]+'"}',i<s-1&&(t+=",")}t+="]",this.typeSel=t,console.log(this.typeSel)},buyShop:function(){this.localProId(),this.typeJson(),window.localStorage.setItem("count",this.orderInfo.count),window.localStorage.setItem("typeSel",this.typeSel),window.localStorage.setItem("proId",this.proId),this.$router.push({name:"createOrder",query:{proId:this.proId,count:this.orderInfo.count,typeSel:this.typeSel}})},minusCount:function(){this.orderInfo.count>1&&this.orderInfo.count--},addCount:function(){this.orderInfo.count<100&&this.orderInfo.count++},localProId:function(){var t=this.$route.query.proId;t?window.localStorage.setItem("proId",t):t=window.localStorage.getItem("proId"),this.proId=t},getInfo:function(){var t=this;t.$route.query.proId;t.localProId(),t.ajax({url:"/product/detail2?id="+t.proId,success:function(i){t.info=i.data}})},getShopCount:function(){var t=this,i=null;if(window.sessionStorage.getItem("tempMemberId"))i=window.sessionStorage.getItem("tempMemberId");else{if(!window.localStorage.getItem("memberId"))return;i=window.localStorage.getItem("memberId")}t.ajax({url:"/cart/product/count?memberId="+i,success:function(i){t.shopCount=i.data}})}},created:function(){this.getInfo(),this.getShopCount(),document.documentElement.scrollTop=0}},a={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"left",attrs:{id:"orderDetail"}},[s("home-header",{attrs:{title:t.info?t.info.productName:"商品详情",back:!0}}),t._v(" "),t.info?s("main",{staticClass:"detail-main"},[s("div",{staticClass:"detail-main-image"},[s("mt-swipe",{attrs:{auto:0}},t._l(t.info.stringArray,function(i,e){return i?s("mt-swipe-item",{key:e},[s("img",{attrs:{src:t.imgHost+i}})]):t._e()}))],1),t._v(" "),s("div",{staticClass:"detail-main-title"},[s("div",{staticClass:"detail-title"},[t._v("\n        "+t._s(t.info.productName)+"\n      ")]),t._v(" "),t._e()]),t._v(" "),s("div",{staticClass:"detail-main-money"},[t._v("\n      ￥"+t._s(t.info.discountPrice)+"元\n    ")]),t._v(" "),s("div",{staticClass:"detail-main-mon"},[t._v("\n      市场价"),s("span",[t._v("￥"+t._s(t.info.salesPrice)+"元")])]),t._v(" "),s("div",{staticClass:"detail-main-sales"},[s("span",[t._v("销量："+t._s(t.info.salesVolume))]),t._v(" "),s("span",[t._v("库存："+t._s(t.info.stock))])]),t._v(" "),s("div",{staticClass:"detail-main-tag clear"},[s("div",{staticClass:"detail-notice"},[t._v("\n        本服务由商户提供售后服务与产品支持\n      ")]),t._v(" "),t._l(t.tagList,function(i,e){return s("li",{key:e,staticClass:"detail-tag-list"},[s("div",{staticClass:"detail-tag-li"},[s("i",{staticClass:"iconfont",class:i.iconfont}),t._v(t._s(i.name)+"\n        ")])])})],2),t._v(" "),s("div",{staticClass:"detail-main-sel",on:{click:function(i){t.popupVisible=!0}}},[s("div",{staticClass:"detail-sel-left"},[t._v("已选")])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"detail-main-intro"},[s("mt-navbar",{model:{value:t.selected,callback:function(i){t.selected=i},expression:"selected"}},[s("mt-tab-item",{attrs:{id:"1"}},[t._v("商品描述")]),t._v(" "),s("mt-tab-item",{attrs:{id:"2"}},[t._v("规格参数")])],1),t._v(" "),s("mt-tab-container",{model:{value:t.selected,callback:function(i){t.selected=i},expression:"selected"}},[s("mt-tab-container-item",{attrs:{id:"1"}},[s("div",{staticClass:"html-detail",domProps:{innerHTML:t._s(t.info.remark)}})]),t._v(" "),s("mt-tab-container-item",{attrs:{id:"2"}},[s("div",{staticClass:"html-detail",domProps:{innerHTML:t._s(t.info.remark)}})])],1)],1)]):t._e(),t._v(" "),s("mt-popup",{attrs:{position:"bottom"},model:{value:t.popupVisible,callback:function(i){t.popupVisible=i},expression:"popupVisible"}},[t.info?s("div",{staticClass:"sel-info"},[s("div",{staticClass:"sel-info-title"},[s("div",{staticClass:"sel-info-image"},[s("img",{attrs:{src:"http://temp.im/360x168/4CD964/fff",alt:""}})]),t._v(" "),s("div",{staticClass:"sel-info-item"},[s("div",{staticClass:"sel-info-name"},[t._v("\n            "+t._s(t.info.productName)),s("i",{staticClass:"iconfont icon-guanbi",on:{click:function(i){t.popupVisible=!1}}})]),t._v(" "),s("div",{staticClass:"sel-info-money"},[t._v("\n            ￥"+t._s(t.info.discountPrice)+"元\n          ")]),t._v(" "),s("div",{staticClass:"sel-info-inventory"},[t._v("\n            库存："+t._s(t.info.stock)+"\n          ")])])]),t._v(" "),s("div",{staticClass:"sel-info-sel"},[t.info.color?s("div",{staticClass:"sel-info-select"},[s("div",{staticClass:"sel-title"},[t._v("\n            颜色：\n          ")]),t._v(" "),s("div",{staticClass:"sel-list clear"},t._l(t.colorList(t.info.color),function(i,e){return s("div",{key:e,staticClass:"sel-li",class:e==t.active[0]?"activeClass":"",on:{click:function(i){t.active.splice(0,1,e)}}},[t._v(t._s(i)+"\n            ")])}))]):t._e(),t._v(" "),t.info.size?s("div",{staticClass:"sel-info-select"},[s("div",{staticClass:"sel-title"},[t._v("\n            颜色：\n          ")]),t._v(" "),s("div",{staticClass:"sel-list clear"},t._l(t.colorList(t.info.size),function(i,e){return s("div",{key:e,staticClass:"sel-li",class:e==t.active[1]?"activeClass":"",on:{click:function(i){t.active.splice(1,1,e)}}},[t._v(t._s(i)+"\n            ")])}))]):t._e(),t._v(" "),s("div",{staticClass:"sel-info-count"},[s("div",{staticClass:"sel-count-title"},[t._v("\n            数量：\n          ")]),t._v(" "),s("div",{staticClass:"sel-minus-add"},[s("div",{staticClass:"sel-minus",on:{click:t.minusCount}},[t._v("\n              -\n            ")]),t._v(" "),s("div",{staticClass:"sel-count"},[t._v("\n              "+t._s(t.orderInfo.count)+"\n            ")]),t._v(" "),s("div",{staticClass:"sel-add",on:{click:t.addCount}},[t._v("\n              +\n            ")])])])]),t._v(" "),s("div",{staticClass:"sel-info-button"},[s("div",{staticClass:"sel-info-btn sel-info-addShop",on:{click:t.addShop}},[t._v("加入购物车")]),t._v(" "),s("div",{staticClass:"sel-info-btn sel-info-buy",on:{click:t.buyShop}},[t._v("立即购买")])])]):t._e()]),t._v(" "),s("div",{staticClass:"orderDetail-button"},[s("div",{staticClass:"orderDetail-shopcart",on:{click:function(i){t.hrefName("shopcart")}}},[s("i",{staticClass:"iconfont icon-gouwuche2"}),t._v("\n      购物车\n      "),s("span",{staticClass:"superscript"},[t._v(t._s(t.shopCount))])]),t._v(" "),s("div",{staticClass:"orderDetail-btn sel-info-addShop",on:{click:function(i){t.popupVisible=!0}}},[t._v("加入购物车")]),t._v(" "),s("div",{staticClass:"orderDetail-btn sel-info-buy",on:{click:function(i){t.popupVisible=!0}}},[t._v("立即购买")])])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"detail-main-sel"},[i("div",{staticClass:"detail-sel-left"},[this._v("用户评价")]),this._v(" "),i("div",{staticClass:"detail-sel-evaluate"},[this._v("好评率 "),i("span",[this._v(" 100%")])])])}]};var l=s("VU/8")(n,a,!1,function(t){s("4G08")},"data-v-b8c09e3c",null);i.default=l.exports}});
//# sourceMappingURL=4.568578de37733bae9619.js.map