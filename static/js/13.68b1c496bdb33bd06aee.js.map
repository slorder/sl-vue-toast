{"version":3,"sources":["webpack:///src/page/classify/productList.vue","webpack:///./src/page/classify/productList.vue?f049","webpack:///./src/page/classify/productList.vue"],"names":["homeHeader","header","submitBtn","status","res","onBottomLoaded","translate","getList","val","this","activeArrows","index","onTopLoaded","list","top","classify_productList","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","title","back","_v","_l","item","key","class","active","activeNav","on","click","$event","activeSel","activeClass","_s","name","ref","style","height","wrapperHeight","top-method","loadTop","bottom-method","loadBottom","bottom-all-loaded","allLoaded","translate-change","translateChange","top-status-change","handleTopChange","bottom-status-change","handleBottomChange","$router","push","query","proId","src","imgHost","img","alt","productName","salesPrice","slot","directives","rawName","value","topStatus","expression","is-rotate","type","bottomStatus","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","productList","ssrContext","__webpack_exports__"],"mappings":"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","file":"../static/js/13.68b1c496bdb33bd06aee.js","sourcesContent":["<template>\r\n  <!--商品列表-->\r\n  <div id=\"proList\" class=\"left\">\r\n    <home-header :title=\"'商品列表'\" :back=\"true\"></home-header>\r\n    <main class=\"proList-main\">\r\n      <div class=\"proList-main-nav\">\r\n        <div class=\"proList-main-li\" v-for=\"(item,index) in navList\" :key=\"index\" @click=\"activeSel(index)\"\r\n             :class=\"{active:activeNav==index}\">\r\n          <p :class=\"{activeClass:activeArrows}\">{{item.name}}<i class=\"iconfont icon-sanjiao\"></i></p>\r\n        </div>\r\n      </div>\r\n      <div class=\"proList-list\" ref=\"wrapper\" :style=\"{ height: wrapperHeight + 'px' }\">\r\n        <mt-loadmore :top-method=\"loadTop\" @translate-change=\"translateChange\" @top-status-change=\"handleTopChange\"\r\n                     :bottom-method=\"loadBottom\" @bottom-status-change=\"handleBottomChange\"\r\n                     :bottom-all-loaded=\"allLoaded\" ref=\"loadmore\" v-if=\"list\">\r\n          <ul class=\"page-loadmore-list\">\r\n            <li class=\"page-loadmore-listitem clear\">\r\n              <div class=\"home-like-li\" v-for=\"(item,index) in list\" :key=\"index\">\r\n                <div class=\"home-like-image\"\r\n                     @click=\"$router.push({name:'proDetail',query:{proId:item.id}})\">\r\n                  <img :src=\"imgHost+item.img\" alt=\"\">\r\n                </div>\r\n                <div class=\"home-like-name\">\r\n                  {{item.productName}}\r\n                </div>\r\n                <div class=\"home-like-money\">\r\n                  ￥{{item.salesPrice}}元\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <div slot=\"top\" class=\"mint-loadmore-top\">\r\n            <span v-show=\"topStatus !== 'loading'\" :class=\"{ 'is-rotate': topStatus === 'drop' }\">↓</span>\r\n            <span v-show=\"topStatus === 'loading'\">\r\n            <mt-spinner type=\"snake\"></mt-spinner>\r\n          </span>\r\n          </div>\r\n          <div slot=\"bottom\" class=\"mint-loadmore-bottom\">\r\n            <span v-show=\"bottomStatus !== 'loading'\" :class=\"{ 'is-rotate': bottomStatus === 'drop' }\">↑</span>\r\n            <span v-show=\"bottomStatus === 'loading'\">\r\n              <mt-spinner type=\"snake\"></mt-spinner>\r\n            </span>\r\n          </div>\r\n        </mt-loadmore>\r\n\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import homeHeader from '../../components/header/header.vue'\r\n  import submitBtn from '../../components/button/submitBtn.vue'\r\n\r\n  export default {\r\n    name: 'carrousel',\r\n    data() {\r\n      return {\r\n        activeNav: '',\r\n        activeArrows: false,\r\n        navList: [\r\n          {\r\n            name: '销量'\r\n          },\r\n          {\r\n            name: '价格'\r\n          }\r\n        ],\r\n        selected: '1',\r\n        activeTab: '1',\r\n        topStatus: '',\r\n        allLoaded: false,\r\n        list: null,\r\n        bottomStatus: '',\r\n        wrapperHeight: 0,\r\n        translate: 0,\r\n        moveTranslate: 0\r\n      }\r\n    },\r\n    computed: {},\r\n    components: {\r\n      homeHeader,\r\n      submitBtn\r\n    },\r\n    methods: {\r\n      handleBottomChange(status) {\r\n        console.log(status)\r\n        this.bottomStatus = status;\r\n      },\r\n      loadBottom() {\r\n        let that = this;\r\n//          let lastValue = this.list[this.list.length - 1];\r\n//          if (lastValue < 40) {\r\n//            for (let i = 1; i <= 10; i++) {\r\n//              this.list.push(lastValue + i);\r\n//            }\r\n//          } else {\r\n//            this.allLoaded = true;\r\n//          }\r\n//          this.$refs.loadmore.onBottomLoaded();\r\n        that.ajax({\r\n          url: '/product/list',\r\n          success: function (res) {\r\n            console.log(res);\r\n//              Object.assign(that.list, res)\r\n            that.list = that.list.concat(res);\r\n            that.$refs.loadmore.onBottomLoaded();\r\n          }\r\n        })\r\n      },\r\n      handleTopChange(status) {\r\n        this.moveTranslate = 1;\r\n        this.topStatus = status;\r\n      },\r\n      translateChange(translate) {\r\n        const translateNum = +translate;\r\n        this.translate = translateNum.toFixed(2);\r\n        this.moveTranslate = (1 + translateNum / 70).toFixed(2);\r\n      },\r\n      loadTop() {\r\n          this.getList();\r\n      },\r\n      clickTab(val) {\r\n        this.activeTab = val;\r\n      },\r\n      submitBtn() {\r\n        let that = this;\r\n        if (that.agreementActive) {\r\n          that.$router.push({path: '/order'})\r\n        }\r\n      },\r\n      activeSel(index) {\r\n        let that = this;\r\n        if (that.activeNav == index) {\r\n          that.activeArrows = !that.activeArrows;\r\n          console.log(1111)\r\n        } else {\r\n          that.activeArrows = false;\r\n          console.log(2222)\r\n        }\r\n        that.activeNav = index;\r\n      },\r\n      getList() {\r\n        let that = this;\r\n        this.$nextTick(function () {\r\n          that.ajax({\r\n            url: '/product/list',\r\n            success: function (res) {\r\n              that.list = res;\r\n              //清除下拉刷新状态\r\n              that.$refs.loadmore.onTopLoaded();\r\n              console.log(that.list);\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    created() {\r\n      this.getList();\r\n    },\r\n    mounted() {\r\n      this.wrapperHeight = document.documentElement.clientHeight - this.$refs.wrapper.getBoundingClientRect().top;\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  @import \"../../style/minxin\";\r\n\r\n  $b: #f0f0f0;\r\n\r\n  #proList {\r\n    .loading-background, .mint-loadmore-top {\r\n      background: $b;\r\n    }\r\n    .loading-background, .mint-loadmore-top span {\r\n      -webkit-transition: .2s linear;\r\n      transition: .2s linear\r\n    }\r\n\r\n    .mint-loadmore-top span {\r\n      display: inline-block;\r\n      vertical-align: middle\r\n    }\r\n\r\n    .mint-loadmore-top span.is-rotate {\r\n      -webkit-transform: rotate(180deg);\r\n      transform: rotate(180deg)\r\n    }\r\n\r\n    .page-loadmore .mint-spinner {\r\n      display: inline-block;\r\n      vertical-align: middle\r\n    }\r\n\r\n    .page-loadmore-desc {\r\n      text-align: center;\r\n      color: #666;\r\n      padding-bottom: 5px\r\n    }\r\n\r\n    .page-loadmore-desc:last-of-type, .page-loadmore-listitem {\r\n      background: #f0f0f0;\r\n      padding: 0 5px;\r\n    }\r\n\r\n    .page-loadmore-listitem {\r\n      min-height: 50px;\r\n      /*line-height: 50px;*/\r\n      text-align: center\r\n    }\r\n\r\n    .page-loadmore-listitem:first-child {\r\n      border-top: 1px solid #eee\r\n    }\r\n\r\n    .page-loadmore-wrapper {\r\n      overflow: scroll\r\n    }\r\n\r\n    .mint-loadmore-bottom span {\r\n      display: inline-block;\r\n      width: 100%;\r\n      -webkit-transition: .2s linear;\r\n      transition: .2s linear;\r\n      vertical-align: middle\r\n    }\r\n\r\n    .mint-loadmore-bottom span.is-rotate {\r\n      -webkit-transform: rotate(180deg);\r\n      transform: rotate(180deg)\r\n    }\r\n\r\n    .mint-spinner-snake {\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n\r\n  .proList-main {\r\n    float: left;\r\n    width: 100%;\r\n    margin: $top 0 $bottom;\r\n    .proList-main-nav {\r\n      background: $f;\r\n      display: flex;\r\n      flex-direction: row;\r\n      .proList-main-li {\r\n        flex: 1;\r\n        text-align: center;\r\n        @include sh($med, 2em);\r\n        border-bottom: 2px solid $f;\r\n        .iconfont {\r\n          @include sh($med, 2em);\r\n        }\r\n      }\r\n      .active {\r\n        border-bottom: 2px solid $red;\r\n        color: $red;\r\n        .activeClass {\r\n          .iconfont:before {\r\n            display: inline-block;\r\n            transform: rotateX(180deg);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .proList-child {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    margin-top: 3px;\r\n    .proList-child-li {\r\n      flex: 1;\r\n      text-align: center;\r\n      @include sh($med, 2em);\r\n      border-bottom: 3px solid $f;\r\n      background: $f;\r\n    }\r\n    .activeClass {\r\n      border-bottom: 3px solid $red;\r\n      color: $red;\r\n    }\r\n  }\r\n\r\n  //列表\r\n  .proList-list {\r\n    background: $f;\r\n    .home-like-li {\r\n      width: 50%;\r\n      float: left;\r\n      padding: 10px 5px;\r\n      .home-like-image {\r\n        width: 100%;\r\n        background: $f;\r\n        img {\r\n          width: 100%;\r\n          height: 11rem;\r\n        }\r\n      }\r\n      .home-like-name {\r\n        display: block;\r\n        @include sh($med, $med +0.4);\r\n        height: $med*3;\r\n        overflow: hidden;\r\n        text-align: left;\r\n        background: $f;\r\n        padding: 5px 6px 0;\r\n        @include el(2);\r\n      }\r\n      .home-like-money {\r\n        @include sc($med, $red);\r\n        background: $f;\r\n        padding: 5px;\r\n        text-align: left;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/classify/productList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"left\",attrs:{\"id\":\"proList\"}},[_c('home-header',{attrs:{\"title\":'商品列表',\"back\":true}}),_vm._v(\" \"),_c('main',{staticClass:\"proList-main\"},[_c('div',{staticClass:\"proList-main-nav\"},_vm._l((_vm.navList),function(item,index){return _c('div',{key:index,staticClass:\"proList-main-li\",class:{active:_vm.activeNav==index},on:{\"click\":function($event){_vm.activeSel(index)}}},[_c('p',{class:{activeClass:_vm.activeArrows}},[_vm._v(_vm._s(item.name)),_c('i',{staticClass:\"iconfont icon-sanjiao\"})])])})),_vm._v(\" \"),_c('div',{ref:\"wrapper\",staticClass:\"proList-list\",style:({ height: _vm.wrapperHeight + 'px' })},[(_vm.list)?_c('mt-loadmore',{ref:\"loadmore\",attrs:{\"top-method\":_vm.loadTop,\"bottom-method\":_vm.loadBottom,\"bottom-all-loaded\":_vm.allLoaded},on:{\"translate-change\":_vm.translateChange,\"top-status-change\":_vm.handleTopChange,\"bottom-status-change\":_vm.handleBottomChange}},[_c('ul',{staticClass:\"page-loadmore-list\"},[_c('li',{staticClass:\"page-loadmore-listitem clear\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"home-like-li\"},[_c('div',{staticClass:\"home-like-image\",on:{\"click\":function($event){_vm.$router.push({name:'proDetail',query:{proId:item.id}})}}},[_c('img',{attrs:{\"src\":_vm.imgHost+item.img,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"home-like-name\"},[_vm._v(\"\\n                \"+_vm._s(item.productName)+\"\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"home-like-money\"},[_vm._v(\"\\n                ￥\"+_vm._s(item.salesPrice)+\"元\\n              \")])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"mint-loadmore-top\",attrs:{\"slot\":\"top\"},slot:\"top\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topStatus !== 'loading'),expression:\"topStatus !== 'loading'\"}],class:{ 'is-rotate': _vm.topStatus === 'drop' }},[_vm._v(\"↓\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topStatus === 'loading'),expression:\"topStatus === 'loading'\"}]},[_c('mt-spinner',{attrs:{\"type\":\"snake\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"mint-loadmore-bottom\",attrs:{\"slot\":\"bottom\"},slot:\"bottom\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bottomStatus !== 'loading'),expression:\"bottomStatus !== 'loading'\"}],class:{ 'is-rotate': _vm.bottomStatus === 'drop' }},[_vm._v(\"↑\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bottomStatus === 'loading'),expression:\"bottomStatus === 'loading'\"}]},[_c('mt-spinner',{attrs:{\"type\":\"snake\"}})],1)])]):_vm._e()],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-670ece02\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/classify/productList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-670ece02\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./productList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./productList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./productList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-670ece02\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./productList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/classify/productList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}